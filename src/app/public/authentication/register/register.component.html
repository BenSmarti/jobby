<div class="section-padding">
  <div class="form-container">
    <div class="d-flex tab-menu">
      <div class="w-50 tab" [ngClass]="{ active: activeTab === 'seeker' }" (click)="activeTab = 'seeker'">{{ t('JOB_SEEKER') }}</div>
      <div class="w-50 tab" [ngClass]="{ active: activeTab === 'employer' }" (click)="activeTab = 'employer'">{{ t('EMPLOYER') }}</div>
    </div>
    <form #f="ngForm">
      <div class="tab-content" *ngIf="activeTab === 'seeker'">
        <div class="form-group">
          <input type="text" name="firstName" class="form-control py-2 rounded-border"
                 [placeholder]="t('FIRST_NAME')" [(ngModel)]="seeker.firstName" #firstName="ngModel" required>
          <p class="alert alert-danger" *ngIf="firstName.errors && f.submitted">{{ t('REQUIRED_FIELD') }}.</p>
        </div>
        <div class="form-group">
          <input type="text" name="lastName" class="form-control py-2 rounded-border"
                 [placeholder]="t('LAST_NAME')" [(ngModel)]="seeker.lastName" #lastName="ngModel" required>
          <p class="alert alert-danger" *ngIf="lastName.errors && f.submitted">{{ t('REQUIRED_FIELD') }}.</p>
        </div>
        <div class="form-group">
          <input type="text" name="username" class="form-control py-2 rounded-border"
                 [placeholder]="t('USERNAME')" [(ngModel)]="seeker.user.username"
                 #username="ngModel" required>
          <p class="alert alert-danger" *ngIf="username.errors && f.submitted">{{ t('REQUIRED_FIELD') }}.</p>
        </div>
        <div class="form-group">
          <input type="text" name="email" class="form-control py-2 rounded-border"
           [placeholder]="t('EMAIL')" [(ngModel)]="seeker.user.email"
           #email="ngModel" pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$" required>
          <ng-container *ngIf="email.errors && f.submitted">
            <p class="alert alert-danger" *ngIf="email.errors.required">{{ t('REQUIRED_FIELD') }}.</p>
            <p class="alert alert-danger" *ngIf="email.errors.email">{{ t('INVALID_EMAIL') }}.</p>
          </ng-container>
        </div>
        <div class="form-group">
          <input type="password" name="password" class="form-control py-2 rounded-border"
           [placeholder]="t('PASSWORD')" [(ngModel)]="seeker.user.password" #password="ngModel" required>
          <p class="alert alert-danger" *ngIf="password.errors && f.submitted">{{ t('REQUIRED_FIELD') }}</p>
        </div>
        <div class="form-group">
          <input type="password" name="repeatPassword" class="form-control py-2 rounded-border"
           [placeholder]="t('REPEAT_PASSWORD')" [(ngModel)]="repeatPassword" #repeatPasswordInput="ngModel" required>
          <p class="alert alert-danger" *ngIf="repeatPasswordInput.errors && f.submitted">{{ t('REQUIRED_FIELD') }}.</p>
        </div>
        <div class="form-group">
          <select class="form-control rounded-border" name="gender" [(ngModel)]="seeker.gender">
            <option disabled [value]="undefined">{{ t('SELECT_GENDER') }}</option>
            <option value="male">{{ t('MALE') }}</option>
            <option value="female">{{ t('FEMALE') }}</option>
          </select>
        </div>
      </div>
      <div class="tab-content" *ngIf="activeTab === 'employer'">
        <div class="form-group">
          <input type="text" name="companyName" class="form-control py-2 rounded-border"
           [placeholder]="t('COMPANY_NAME')" [(ngModel)]="employer.name" #companyName="ngModel" required>
          <p class="alert alert-danger" *ngIf="companyName.errors && f.submitted">{{ t('REQUIRED_FIELD') }}.</p>
        </div>
        <div class="form-group">
          <input type="text" name="username" class="form-control py-2 rounded-border"
           [placeholder]="t('USERNAME')" [(ngModel)]="employer.user.username" #username="ngModel" required>
          <p class="alert alert-danger" *ngIf="username.errors && f.submitted">{{ t('REQUIRED_FIELD') }}.</p>
        </div>
        <div class="form-group">
          <input type="text" name="email" class="form-control py-2 rounded-border"
           [placeholder]="t('EMAIL')" [(ngModel)]="employer.user.email"
           #email="ngModel" pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$" required>
          <ng-container *ngIf="email.errors && f.submitted">
            <p class="alert alert-danger" *ngIf="email.errors.required">{{ t('REQUIRED_FIELD') }}.</p>
            <p class="alert alert-danger" *ngIf="email.errors.email">{{ t('INVALID_EMAIL') }}.</p>
          </ng-container>
        </div>
        <div class="form-group">
          <input type="password" name="password" class="form-control py=2 rounded-border"
            [placeholder]="t('PASSWORD')" [(ngModel)]="employer.user.password" #password="ngModel" required>
          <p class="alert alert-danger" *ngIf="password.errors && f.submitted">{{ t('REQUIRED_FIELD') }}.</p>
        </div>
        <div class="form-group">
          <input type="password" name="repeatPassword" class="form-control py-2 rounded-border"
           [placeholder]="t('REPEAT_PASSWORD')" [(ngModel)]="repeatPassword" #repeatPasswordInput="ngModel" required>
          <p class="alert alert-danger" *ngIf="repeatPasswordInput.errors && f.submitted">{{ t('REQUIRED_FIELD') }}.</p>
        </div>
      </div>
      <mat-spinner class="mx-auto mb-3" *ngIf="isSubmitting"></mat-spinner>
      <p class="alert alert-danger" *ngIf="isLoginFailed">
        <i class="fa fa-exclamation-circle p-icon"></i>
        <span>{{ t('LOGIN_ERROR') }}.</span>
      </p>
      <div class="text-center">
        <button class="w-100 mb-3 text-uppercase chip-button chip-blue toggle-effect" (click)="submit(f.valid)">{{ t('REGISTER') }}</button>
        <span class="grey">{{ t('ALREADY_REGISTERED') }}</span>
        <a class="grey-link" routerLink="/login">{{ t('MAKE_LOGIN') }}</a>
      </div>
    </form>
  </div>
</div>
