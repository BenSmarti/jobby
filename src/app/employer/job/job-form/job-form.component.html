<div class="container data-form">
  <a routerLink=".." class="d-block mb-2">
    <i class="fa fa-chevron-right p-icon"></i>
    <span>{{ t('TO_JOBS') }}</span>
  </a>
  <div class="card">
    <div class="card-header">
      <div class="card-title">{{ t('NEW_JOB') }}</div>
    </div>
    <form #f="ngForm" (ngSubmit)="submit(f.valid)" class="card-block">
      <div class="row">
        <div class="col-12 col-md-8 form-group">
          <label for="jobTitle">{{ t('JOB_TITLE') }}*</label>
          <input type="text" id="jobTitle" class="form-control" name="jobTitle" #jobTitle="ngModel" [(ngModel)]="job.title" [placeholder]="t('ENTER_JOB_TITLE')" required>
          <p class="alert alert-danger" *ngIf="f.submitted && jobTitle.errors">{{ t('REQUIRED_FIELD') }}.</p>
        </div>
      </div>
      <div class="row">
        <div class="col-12 col-md-8 form-group">
          <label for="jobTitle">{{ t('JOB_LOCATION') }}*</label>
          <input type="text" id="jobLocation" class="form-control" name="jobLocation" #jobLocation="ngModel" [(ngModel)]="job.location" [placeholder]="t('ENTER_JOB_LOCATION')" required>
          <p class="alert alert-danger" *ngIf="f.submitted && jobLocation.errors">{{ t('REQUIRED_FIELD') }}.</p>
        </div>
      </div>
      <div class="row">
        <div class="col col-md-4 form-group">
          <label>{{ t('JOB_CATEGORY') }}</label>
          <select2 [data]="categories" [options]="getSelectOptions('job_category')"></select2>
        </div>
        <div class="col col-md-4 form-group">
          <label>{{ t('JOB_ROLE') }}*</label>
          <select2 [options]="getSelectOptions('job_role')"></select2>
        </div>
      </div>
      <div class="form-group">
        <label for="jobDescription">{{ t('JOB_DESCRIPTION') }}*</label>
        <textarea id="jobDescription" class="form-control" name="jobDescription" #description="ngModel" [(ngModel)]="job.description" [placeholder]="t('ENTER_JOB_DESCRIPTION')" required></textarea>
        <p class="alert alert-danger" *ngIf="f.submitted && description.errors">{{ t('REQUIRED_FIELD') }}.</p>
      </div>
      <div class="form-group">
        <label for="jobRequirements">{{ t('JOB_REQUIREMENTS') }}*</label>
        <textarea id="jobRequirements" class="form-control" name="jobRequirements" #requirements="ngModel" [(ngModel)]="job.requirements" [placeholder]="t('ENTER_JOB_REQUIREMENTS')" required></textarea>
        <p class="alert alert-danger" *ngIf="f.submitted && requirements.errors">{{ t('REQUIRED_FIELD') }}.</p>
      </div>
      <div class="row">
        <div class="col-12 col-sm-6 col-md-5 form-group">
          <label>{{ t('JOB_TYPE') }}*</label>
          <select2 [options]="getSelectOptions('job_type')" [data]="jobTypes" (valueChanged)="job.type = $event.value"></select2>
        </div>
        <div class="col-12 col-sm-6 col-md-5 offset-md-2">
          <label>{{ t('SALARY') }}</label>
          <div class="d-flex">
            <input type="number" class="form-control" name="minSalary" [(ngModel)]="job.minSalary" [placeholder]="t('MINIMUM')">
            <input type="number" class="form-control mx-3" name="maxSalary" [(ngModel)]="job.maxSalary" [placeholder]="t('MAXIMUM')">
            <div>
              <select2 [data]="salaryMethods" (valueChanged)="job.salaryMethod = $event.value" [value]="{}" [options]="getSelectOptions(t('HOURLY') + '/' + t('MONTHLY'), true, true)"></select2>
            </div>
          </div>
        </div>
      </div>
      <div class="card-footer">
        <p class="alert alert-danger" *ngIf="isFailed">{{ t('SAVE_HAS_FAILED') }}.</p>
        <button type="submit" class="card-primary mr-3">{{ t('SAVE_PUBLISH_JOB') }}</button>
        <a>{{ t('SAVE_AS_DRAFT') }}</a>
      </div>
    </form>
  </div>
</div>
